---
title: （一）Redis基础
date: 2020-11-16 23:53:55
tags: REDIS
---

### （一）Redis基础



#### 1.键值数据库基本架构

##### （1）数据模型

​	键值数据库：基本的数据模型 key-value 模型

​	key：string 类型

​    value：基本数据类型（string、int 等）

​	不同的键值数据库key的类型一般差异不大，但是对于value类型则有较大的差别

| 键值数据库 | KEY类型 | VALUE类型                 |
| ---------- | ------- | ------------------------- |
| Memcached  | string  | string                    |
| Redis      | string  | string\哈希表\列表\集合等 |



##### （2）数据操作

键值数据库支持三种基本的操作：

| 操作    | 解释                                                         |
| ------- | ------------------------------------------------------------ |
| PUT/SET | 新写入或更新一个key-value对                                  |
| GET     | 根据一个key读取相应的value                                   |
| DELETE  | 根据一个key删除整个key-value对                               |
| SCAN    | 查询一个用户在一段时间内的访问记录（根据一段key的范围返回相应的value值） |



##### （3）模块

​	**/访问模块**

①通过函数库调用的方式供外部应用使用

②通过网络框架以Socket通信的形式对外提供键值对操作

​	/**索引模块**

定位键值对的位置

索引的作用：让键值数据库更具key找到对应value的存储位置，执行操作

索引的类型：哈希表/B+树/字典树等

| 键值数据库 | 索引类型 |
| ---------- | -------- |
| Memcached  | 哈希表   |
| Redis      | 哈希表   |
| RocksDB    | 跳表     |

Redis:通过索引找到key对应的value之后，value作为复杂结构，也需要从中进一步找到所需要的数据。Redis采用一些常见的高效的索引结构作为某些value类型的底层数据结构，对于实现高性能访问提供了很好的帮助。

​	/**操作模块**

| 操作     | 描述                                         |
| -------- | -------------------------------------------- |
| GET/SCAN | 根据value的存储位置返回value的值             |
| PUT      | 新增（为键值对分配内存空间）                 |
| DELETE   | 删除键值对，释放相应的内存空间（分配器完成） |

​	/**存储模块**

日志（AOF）每次都写入记录（性能）

快照（RDB）周期性的保存文件/数据丢失的风险（可靠性）

------



#### 2.数据结构

TODO://